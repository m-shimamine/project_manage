<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>モック駆動開発ワークフロー ガイド</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .step-connector {
            position: absolute;
            left: 24px;
            top: 48px;
            bottom: -12px;
            width: 2px;
            background: linear-gradient(to bottom, #3b82f6, #8b5cf6);
        }
        .code-block {
            background: #1e293b;
            color: #e2e8f0;
            border-radius: 8px;
            padding: 16px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            overflow-x: auto;
        }
        .code-block .comment { color: #64748b; }
        .code-block .command { color: #22d3ee; }
        .code-block .path { color: #a78bfa; }
        .code-block .arrow { color: #f59e0b; }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="bg-gradient-to-r from-blue-600 to-purple-600 text-white py-8">
        <div class="max-w-4xl mx-auto px-6">
            <h1 class="text-3xl font-bold">モック駆動開発ワークフロー</h1>
            <p class="mt-2 text-blue-100">Claude Code カスタムコマンド活用ガイド</p>
            <p class="mt-4 text-sm bg-white/20 inline-block px-3 py-1 rounded">
                最終更新: 2026-01-18
            </p>
        </div>
    </header>

    <main class="max-w-4xl mx-auto px-6 py-8">

        <!-- Overview Section -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 flex items-center">
                <span class="bg-blue-100 text-blue-600 w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm">1</span>
                概要
            </h2>
            <div class="bg-white rounded-lg shadow-sm border p-6">
                <p class="text-gray-700 leading-relaxed">
                    このプロジェクトでは<strong>モック駆動開発</strong>を採用しています。<br>
                    モックJSを先に作成し、そこから機能仕様を抽出して実装を進めることで、実装漏れを防ぎます。
                </p>
                <div class="mt-4 p-4 bg-yellow-50 border-l-4 border-yellow-400 rounded">
                    <p class="text-yellow-800 text-sm">
                        <strong>ポイント:</strong> 実装完了後は必ず <code class="bg-yellow-100 px-1 rounded">/impl-check</code> で漏れチェックを実行
                    </p>
                </div>
            </div>
        </section>

        <!-- Workflow Steps -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 flex items-center">
                <span class="bg-blue-100 text-blue-600 w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm">2</span>
                ワークフロー手順
            </h2>

            <div class="space-y-6">
                <!-- Step 1 -->
                <div class="relative pl-16">
                    <div class="absolute left-0 top-0 w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-lg">1</div>
                    <div class="step-connector"></div>
                    <div class="bg-white rounded-lg shadow-sm border p-6">
                        <h3 class="font-bold text-lg text-gray-800">モック作成</h3>
                        <p class="text-gray-600 mt-2">HTML/JSモックを作成します</p>
                        <div class="code-block mt-4">
                            <span class="path">public/mock/{機能名}/</span><br>
                            ├── index.html<br>
                            └── {機能名}.js
                        </div>
                        <p class="text-sm text-gray-500 mt-3">例: <code>public/mock/tasks/task-list.js</code></p>
                    </div>
                </div>

                <!-- Step 2 -->
                <div class="relative pl-16">
                    <div class="absolute left-0 top-0 w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-lg">2</div>
                    <div class="step-connector"></div>
                    <div class="bg-white rounded-lg shadow-sm border p-6">
                        <h3 class="font-bold text-lg text-gray-800">機能仕様書を生成</h3>
                        <p class="text-gray-600 mt-2">モックJSから関数・データ構造を抽出</p>
                        <div class="code-block mt-4">
                            <span class="command">/mock-spec</span> task-list
                        </div>
                        <div class="mt-4 flex items-center text-sm">
                            <span class="text-gray-500">出力先:</span>
                            <code class="ml-2 bg-gray-100 px-2 py-1 rounded text-purple-600">.doc/mock-spec/task-list-spec.md</code>
                        </div>
                    </div>
                </div>

                <!-- Step 3 -->
                <div class="relative pl-16">
                    <div class="absolute left-0 top-0 w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-lg">3</div>
                    <div class="step-connector"></div>
                    <div class="bg-white rounded-lg shadow-sm border p-6">
                        <h3 class="font-bold text-lg text-gray-800">実装計画を生成</h3>
                        <p class="text-gray-600 mt-2">クラス設計・フェーズ分け・マッピング表を作成</p>
                        <div class="code-block mt-4">
                            <span class="command">/impl-plan</span> task-list
                        </div>
                        <div class="mt-4 flex items-center text-sm">
                            <span class="text-gray-500">出力先:</span>
                            <code class="ml-2 bg-gray-100 px-2 py-1 rounded text-purple-600">.doc/task/implementation_plan.md</code>
                        </div>
                    </div>
                </div>

                <!-- Step 4 -->
                <div class="relative pl-16">
                    <div class="absolute left-0 top-0 w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white font-bold text-lg">4</div>
                    <div class="step-connector"></div>
                    <div class="bg-white rounded-lg shadow-sm border p-6">
                        <h3 class="font-bold text-lg text-gray-800">実装作業</h3>
                        <p class="text-gray-600 mt-2">計画書に従ってコードを実装</p>
                        <div class="mt-4 p-4 bg-green-50 border border-green-200 rounded">
                            <p class="text-green-800 text-sm">
                                <strong>実装時の確認事項:</strong>
                            </p>
                            <ul class="mt-2 text-sm text-green-700 list-disc list-inside space-y-1">
                                <li>モック仕様書の関数を漏れなく実装</li>
                                <li>データ構造のフィールドを網羅</li>
                                <li>イベントハンドラを設定</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Step 5 -->
                <div class="relative pl-16">
                    <div class="absolute left-0 top-0 w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg">5</div>
                    <div class="bg-white rounded-lg shadow-sm border p-6">
                        <h3 class="font-bold text-lg text-gray-800">実装漏れチェック</h3>
                        <p class="text-gray-600 mt-2">サブエージェントが並列でチェック実行</p>
                        <div class="code-block mt-4">
                            <span class="command">/impl-check</span> task-list
                        </div>
                        <div class="mt-4 flex items-center text-sm">
                            <span class="text-gray-500">出力先:</span>
                            <code class="ml-2 bg-gray-100 px-2 py-1 rounded text-purple-600">.doc/task/impl-check-report.md</code>
                        </div>

                        <!-- Subagent Diagram -->
                        <div class="mt-6 p-4 bg-purple-50 rounded-lg">
                            <p class="text-purple-800 font-medium text-sm mb-3">サブエージェント構成（並列実行）</p>
                            <div class="grid grid-cols-3 gap-3">
                                <div class="bg-white p-3 rounded border border-purple-200 text-center">
                                    <div class="text-purple-600 font-bold">Agent #1</div>
                                    <div class="text-xs text-gray-500 mt-1">関数実装チェック</div>
                                </div>
                                <div class="bg-white p-3 rounded border border-purple-200 text-center">
                                    <div class="text-purple-600 font-bold">Agent #2</div>
                                    <div class="text-xs text-gray-500 mt-1">データ構造チェック</div>
                                </div>
                                <div class="bg-white p-3 rounded border border-purple-200 text-center">
                                    <div class="text-purple-600 font-bold">Agent #3</div>
                                    <div class="text-xs text-gray-500 mt-1">イベントチェック</div>
                                </div>
                            </div>
                            <div class="text-center mt-3">
                                <span class="text-purple-400">↓</span>
                            </div>
                            <div class="bg-white p-3 rounded border border-purple-200 text-center">
                                <div class="text-purple-600 font-bold">結果集約・レポート生成</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Commands Reference -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 flex items-center">
                <span class="bg-blue-100 text-blue-600 w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm">3</span>
                コマンドリファレンス
            </h2>
            <div class="bg-white rounded-lg shadow-sm border overflow-hidden">
                <table class="w-full">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-sm font-medium text-gray-700">コマンド</th>
                            <th class="px-6 py-3 text-left text-sm font-medium text-gray-700">説明</th>
                            <th class="px-6 py-3 text-left text-sm font-medium text-gray-700">出力ファイル</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y">
                        <tr>
                            <td class="px-6 py-4"><code class="bg-blue-100 text-blue-700 px-2 py-1 rounded">/mock-spec</code></td>
                            <td class="px-6 py-4 text-gray-600">モックJSから機能仕様書を生成</td>
                            <td class="px-6 py-4 text-sm text-gray-500">.doc/mock-spec/{機能名}-spec.md</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4"><code class="bg-green-100 text-green-700 px-2 py-1 rounded">/impl-plan</code></td>
                            <td class="px-6 py-4 text-gray-600">実装計画書を生成・更新</td>
                            <td class="px-6 py-4 text-sm text-gray-500">.doc/{機能名}/implementation_plan.md</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4"><code class="bg-purple-100 text-purple-700 px-2 py-1 rounded">/impl-check</code></td>
                            <td class="px-6 py-4 text-gray-600">実装漏れチェック（サブエージェント）</td>
                            <td class="px-6 py-4 text-sm text-gray-500">.doc/{機能名}/impl-check-report.md</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Technical Note -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 flex items-center">
                <span class="bg-blue-100 text-blue-600 w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm">4</span>
                技術メモ: サブエージェントについて
            </h2>
            <div class="bg-white rounded-lg shadow-sm border p-6">
                <h3 class="font-bold text-gray-800 mb-3">Q: サブエージェントは agents/ フォルダではないの？</h3>
                <div class="p-4 bg-gray-50 rounded-lg">
                    <p class="text-gray-700">
                        <strong>A:</strong> Claude Codeでは <code class="bg-gray-200 px-1 rounded">agents/</code> フォルダは存在しません。<br>
                        サブエージェントは <strong>Taskツール</strong> の <code class="bg-gray-200 px-1 rounded">subagent_type</code> パラメータで指定します。
                    </p>
                </div>

                <h4 class="font-medium text-gray-800 mt-6 mb-3">サブエージェントの種類</h4>
                <div class="grid grid-cols-2 gap-4">
                    <div class="p-3 bg-blue-50 rounded border border-blue-200">
                        <code class="text-blue-700 font-bold">Explore</code>
                        <p class="text-sm text-gray-600 mt-1">コード探索・検索</p>
                    </div>
                    <div class="p-3 bg-green-50 rounded border border-green-200">
                        <code class="text-green-700 font-bold">Plan</code>
                        <p class="text-sm text-gray-600 mt-1">設計・計画立案</p>
                    </div>
                    <div class="p-3 bg-orange-50 rounded border border-orange-200">
                        <code class="text-orange-700 font-bold">Bash</code>
                        <p class="text-sm text-gray-600 mt-1">コマンド実行</p>
                    </div>
                    <div class="p-3 bg-purple-50 rounded border border-purple-200">
                        <code class="text-purple-700 font-bold">general-purpose</code>
                        <p class="text-sm text-gray-600 mt-1">汎用タスク</p>
                    </div>
                </div>

                <h4 class="font-medium text-gray-800 mt-6 mb-3">コマンドファイルでの指定方法</h4>
                <div class="code-block">
                    <span class="comment"># .claude/commands/impl-check.md 内での指示</span><br><br>
                    以下の3つのサブエージェントを<strong>並列で</strong>起動してください:<br><br>
                    Task({<br>
                    &nbsp;&nbsp;description: "Check function implementation",<br>
                    &nbsp;&nbsp;subagent_type: "<span class="command">Explore</span>",<br>
                    &nbsp;&nbsp;prompt: "関数実装をチェック..."<br>
                    })
                </div>
            </div>
        </section>

        <!-- Directory Structure -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 flex items-center">
                <span class="bg-blue-100 text-blue-600 w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm">5</span>
                ディレクトリ構造
            </h2>
            <div class="bg-white rounded-lg shadow-sm border p-6">
                <div class="code-block">
project_manage_ci/<br>
├── <span class="path">.claude/</span><br>
│   └── <span class="path">commands/</span>           <span class="comment"># カスタムコマンド定義</span><br>
│       ├── mock-spec.md    <span class="comment"># /mock-spec コマンド</span><br>
│       ├── impl-plan.md    <span class="comment"># /impl-plan コマンド</span><br>
│       └── impl-check.md   <span class="comment"># /impl-check コマンド</span><br>
├── <span class="path">.doc/</span><br>
│   ├── <span class="path">mock-spec/</span>          <span class="comment"># モック機能仕様書（自動生成）</span><br>
│   │   └── {機能名}-spec.md<br>
│   ├── <span class="path">{機能名}/</span>           <span class="comment"># 実装計画書</span><br>
│   │   ├── implementation_plan.md<br>
│   │   └── impl-check-report.md<br>
│   └── <span class="command">mock-driven-workflow-guide.html</span>  <span class="comment"># このファイル</span><br>
└── <span class="path">public/</span><br>
    └── <span class="path">mock/</span>               <span class="comment"># HTMLモック・JSモック</span><br>
        ├── tasks/<br>
        ├── schedule/<br>
        └── ...
                </div>
            </div>
        </section>

        <!-- Quick Start -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 flex items-center">
                <span class="bg-blue-100 text-blue-600 w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm">6</span>
                クイックスタート
            </h2>
            <div class="bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg p-6 text-white">
                <p class="font-medium mb-4">task-list機能の場合の実行例:</p>
                <div class="bg-black/30 rounded-lg p-4 font-mono text-sm space-y-2">
                    <p><span class="text-yellow-300">#</span> 1. モック仕様書を生成</p>
                    <p class="text-cyan-300">/mock-spec task-list</p>
                    <p class="mt-4"><span class="text-yellow-300">#</span> 2. 実装計画を生成</p>
                    <p class="text-cyan-300">/impl-plan task-list</p>
                    <p class="mt-4"><span class="text-yellow-300">#</span> 3. 実装作業...</p>
                    <p class="mt-4"><span class="text-yellow-300">#</span> 4. 実装漏れチェック</p>
                    <p class="text-cyan-300">/impl-check task-list</p>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-gray-400 py-6">
        <div class="max-w-4xl mx-auto px-6 text-center text-sm">
            <p>プロジェクト管理システム - モック駆動開発ガイド</p>
            <p class="mt-1">Claude Code カスタムコマンド活用</p>
        </div>
    </footer>
</body>
</html>
