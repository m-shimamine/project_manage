# /mock-spec - モック機能仕様書を生成

指定されたモックJSファイルから機能仕様書を抽出・生成します。

## 使い方
```
/mock-spec [機能名]
```

例: `/mock-spec task-list`

## 処理内容

### 1. モックファイルの読み込み
対象モックJSを読み込んでください:
- `public/mock/{機能名}/` フォルダ内の全JSファイル
- 対応するHTMLモックも参照

### 2. 以下の情報を抽出

#### 関数一覧
モックJS内の全関数を抽出し、以下の形式でリスト化:
```markdown
| 関数名 | 引数 | 処理概要 | 優先度 |
|--------|------|---------|--------|
| renderTable() | なし | テーブル描画 | 必須 |
```

#### グローバル変数・状態
```markdown
| 変数名 | 型 | 用途 |
|--------|-----|------|
| tasks | Array | タスクデータ |
| isEditMode | boolean | 編集モード状態 |
```

#### データ構造
オブジェクトの構造を抽出:
```markdown
## タスクオブジェクト構造
- id: number - タスクID
- process: string - 工程名
- name: string - タスク名
...
```

#### イベントハンドラ
DOMイベントとその処理:
```markdown
| イベント | 要素 | 処理 |
|---------|------|------|
| click | #addRowBtn | addNewRow() |
| dblclick | tr.task-row | openEditModal() |
```

#### 定数・設定値
```markdown
| 定数名 | 値 | 用途 |
|--------|-----|------|
| MAX_UNDO | 20 | Undo履歴の最大数 |
```

### 3. 出力先
抽出した仕様書を以下に保存:
```
.doc/mock-spec/{機能名}-spec.md
```

### 4. 出力フォーマット

```markdown
# {機能名} モック機能仕様書

生成日時: YYYY-MM-DD HH:mm
ソースファイル: public/mock/{機能名}/*.js

## 実装チェックリスト

### 必須機能
- [ ] 関数名1 - 処理概要
- [ ] 関数名2 - 処理概要

### オプション機能
- [ ] 関数名3 - 処理概要

## 関数詳細
(上記の関数一覧テーブル)

## データ構造
(上記のデータ構造)

## グローバル状態
(上記のグローバル変数テーブル)

## イベントハンドラ
(上記のイベントハンドラテーブル)

## 定数・設定値
(上記の定数テーブル)
```

## 注意事項
- バックアップファイル（*_bk.*, *_backup.*）は除外
- 最新のindex.htmlまたはindex.jsを優先
- 不明な処理はコメントで補足
